<div class="mt-10 p-8 border border-[var(--border)] rounded-xl bg-opacity-5 transition-colors duration-400" 
     style="background-color: rgba(49, 130, 206, 0.03);">
  
  <p class="text-[var(--muted)] mb-6 leading-relaxed text-[15px] font-sans">
    New posts, shipping stories, and nerdy links straight to your inbox.
  </p>
  
  <form id="newsletter-form" class="flex flex-col sm:flex-row gap-3 w-full">
    <input 
      type="text" 
      id="sub-name" 
      placeholder="Name" 
      class="w-full sm:w-auto sm:flex-1 px-4 py-2 bg-[var(--bg)] border border-[var(--border)] rounded-md text-[var(--text)] focus:outline-none focus:border-steiBlue font-mono text-sm transition-all" 
    />
    
    <input 
      type="email" 
      id="sub-email" 
      placeholder="your@email.com" 
      required 
      class="w-full sm:w-auto sm:flex-1 px-4 py-2 bg-[var(--bg)] border border-[var(--border)] rounded-md text-[var(--text)] focus:outline-none focus:border-steiBlue font-mono text-sm transition-all" 
    />
    
<button
  type="button"
  onclick="handleSubscription()"
  id="sub-button"
  class="w-full sm:w-auto px-6 py-2 text-white font-bold rounded-md transition-all duration-300 active:scale-95 text-sm cursor-pointer whitespace-nowrap"
  style="background-color: #3182ce; border: 1px solid rgba(49, 130, 206, 0.2);"
  onmouseover="this.style.backgroundColor='#2b6cb0'; this.style.boxShadow='0 10px 20px -10px rgba(49, 130, 206, 0.5)'"
  onmouseout="this.style.backgroundColor='#3182ce'; this.style.boxShadow='none'"
>
  Subscribe
</button>
  </form>

  <p id="form-msg" class="mt-4 text-[10px] font-mono uppercase tracking-widest hidden"></p>
  
              <span class="text-xs tracking-wide">
              2Ã— per month, pure signal, zero fluff.
            </span>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
    window.supabaseConfig = {
        url: "{{ .Site.Params.supabaseUrl }}",
        key: "{{ .Site.Params.supabaseKey }}"
    };
</script>

{{ with resources.Get "js/newsletter.js" | minify | fingerprint }}
  <script src="{{ .RelPermalink }}" defer></script>
{{ end }}