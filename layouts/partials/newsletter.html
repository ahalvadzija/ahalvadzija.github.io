<div class="p-8 border border-[var(--border)] rounded-xl bg-stei-blue/[0.03] transition-colors duration-400">
  
  <p class="text-[var(--muted)] mb-6 leading-relaxed text-sm">
    New posts, shipping stories, and nerdy links straight to your inbox.
  </p>
  
  <form id="newsletter-form" class="flex flex-col sm:flex-row gap-3 w-full">
    <input 
      type="text" 
      id="sub-name" 
      placeholder="Name" 
      class="w-full sm:w-auto sm:flex-1 px-4 py-2 bg-[var(--bg)] border border-[var(--border)] rounded-md text-[var(--text)] focus:outline-none focus:border-stei-blue font-mono text-sm transition-all" 
    />
    
    <input 
      type="email" 
      id="sub-email" 
      placeholder="your@email.com" 
      required 
      class="w-full sm:w-auto sm:flex-1 px-4 py-2 bg-[var(--bg)] border border-[var(--border)] rounded-md text-[var(--text)] focus:outline-none focus:border-stei-blue font-mono text-sm transition-all" 
    />
    
    <button
      type="button"
      onclick="handleSubscription()"
      id="sub-button"
      class="w-full sm:w-auto px-6 py-2 bg-stei-blue hover:bg-stei-blue/90 text-white font-bold rounded-md transition-all duration-300 active:scale-95 text-sm cursor-pointer whitespace-nowrap shadow-sm hover:shadow-stei-blue/20"
    >
      Subscribe
    </button>
  </form>

  <p id="form-msg" class="mt-4 text-[10px] font-mono uppercase tracking-widest hidden"></p>
  
  <div class="mt-4 flex items-center gap-2 text-[var(--muted)] opacity-70">
    <span class="w-1 h-1 rounded-full bg-stei-blue"></span>
    <span class="text-[11px] tracking-wide font-mono">
      2Ã— per month, pure signal, zero fluff.
    </span>
  </div>
</div>

<div id="supabase-config" 
     data-url="{{ .Site.Params.supabaseUrl }}" 
     data-key="{{ .Site.Params.supabaseKey }}" 
     class="hidden"></div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

{{ with resources.Get "js/newsletter.js" | minify | fingerprint }}
  <script src="{{ .RelPermalink }}" defer></script>
{{ end }}