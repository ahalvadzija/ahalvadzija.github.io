const themeToggleBtn=document.getElementById("theme-toggle"),htmlElement=document.documentElement,setTheme=e=>{htmlElement.classList.toggle("dark",e),localStorage.setItem("theme",e?"dark":"light")},savedTheme=localStorage.getItem("theme"),prefersDark=window.matchMedia("(prefers-color-scheme: dark)").matches;setTheme(savedTheme==="dark"||!savedTheme&&prefersDark),themeToggleBtn&&themeToggleBtn.addEventListener("click",()=>{const e=htmlElement.classList.contains("dark");if(!document.startViewTransition){setTheme(!e);return}document.startViewTransition(()=>setTheme(!e))}),window.initMagneticEffect=()=>{document.querySelectorAll(".social-icon-lucide").forEach(e=>{let t=null;e.addEventListener("mousemove",n=>{const s=e.getBoundingClientRect(),o=n.clientX-s.left-s.width/2,i=n.clientY-s.top-s.height/2;t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e.style.transition="none";const t=e.querySelector("svg");t&&(t.style.transition="none"),e.style.transform=`translate3d(${o*.3}px, ${i*.3}px, 0) rotateX(${-i*.1}deg) rotateY(${o*.1}deg)`,t&&(t.style.transform=`translate3d(${o*.1}px, ${i*.1}px, 0) scale(1.1)`)})}),e.addEventListener("mouseleave",()=>{t&&cancelAnimationFrame(t);const s="transform 0.5s cubic-bezier(0.23, 1, 0.32, 1)";e.style.transition=s,e.style.transform="translate3d(0, 0, 0) rotateX(0) rotateY(0)";const n=e.querySelector("svg");n&&(n.style.transition=s,n.style.transform="translate3d(0, 0, 0) scale(1)")})})},window.addEventListener("DOMContentLoaded",()=>{typeof lucide!="undefined"&&lucide.createIcons(),initMagneticEffect()}),document.addEventListener("keydown",e=>{if(e.target.tagName==="INPUT"||e.target.tagName==="TEXTAREA")return;const t=e.key.toLowerCase()==="k",n=e.key==="/",s=e.ctrlKey||e.metaKey;(n||s&&t)&&(e.preventDefault(),window.location.href="/search/")});export function initIcons(){typeof lucide!="undefined"&&lucide.createIcons()}export function initMagneticEffect(){document.querySelectorAll(".social-icon-lucide").forEach(e=>{let t=null;e.addEventListener("mousemove",n=>{const s=e.getBoundingClientRect(),o=n.clientX-s.left-s.width/2,i=n.clientY-s.top-s.height/2;t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{e.style.transition="none";const t=e.querySelector("svg");t&&(t.style.transition="none"),e.style.transform=`translate3d(${o*.3}px, ${i*.3}px, 0) rotateX(${-i*.1}deg) rotateY(${o*.1}deg)`,t&&(t.style.transform=`translate3d(${o*.1}px, ${i*.1}px, 0) scale(1.1)`)})}),e.addEventListener("mouseleave",()=>{t&&cancelAnimationFrame(t);const s="transform 0.5s cubic-bezier(0.23, 1, 0.32, 1)";e.style.transition=s,e.style.transform="translate3d(0, 0, 0) rotateX(0) rotateY(0)";const n=e.querySelector("svg");n&&(n.style.transition=s,n.style.transform="translate3d(0, 0, 0) scale(1)")})})}export function initScrollProgress(){const e=document.getElementById("scroll-progress-bar");if(!e)return;const t=()=>{const n=document.documentElement.scrollTop||document.body.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,s=t>0?n/t*100:0;e.style.width=s+"%"};window.addEventListener("scroll",t),t()}